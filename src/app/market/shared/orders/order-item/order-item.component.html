<mat-expansion-panel class="order list-item no-padding">
  <mat-expansion-panel-header class="header">
    <div class="header-wrapper" fxLayout="row" fxLayoutAlign="space-between center">
      <div class="photo" fxFlex="0 0 80px">
        <img src="{{ listingImage }}">
      </div>
      <div class="meta" fxFlex="1 1 100%">
        <div class="name">{{ title }}</div>
        <div class="hash" matTooltip="Order ID: {{ order?.hashDetail }}" matTooltipPosition="right" [ngStyle]="{'background-color': '#' + order?.hashDetail}">{{ order?.hash }}</div>
        <div class="date">
          Added {{order?.added}} &bull; Updated {{order?.updated}}
        </div>
      </div>
      <div class="status {{ order?.status }} {{ order?.type }}" fxFlex="0 0 120px"><span class="dot"></span>{{ order?.status }}</div>
    </div>
  </mat-expansion-panel-header>

  <div class="status-info">
    <p>{{ orderActivity?.status_info }}</p>
    <div *ngIf="order?.type === 'buy' && order?.status === 'shipping'" class="additional-shipping-info">
      <p *ngIf="order?.listing?.memo">
        <span class="title">Shipping info from Seller</span>
        <code class="more-info">{{ order?.listing?.memo}}</code>
      </p>
      <p *ngIf="!order?.listing?.memo">
        <span class="title">Shipping info from Seller</span>
        <em>No information provided</em>
      </p>
    </div>
  </div>

  <div class="detail" fxLayout="row" fxLayoutGap="30px">

    <div class="buyer-info" fxFlex="65%">
      <div class="title">Shipping address</div>
      <app-shipping-address [shippingAddress]="order?.ShippingAddress"></app-shipping-address>
    </div><!-- .buyer-info -->

    <div class="info" fxFlex="35%">
      <div class="title">Price<!-- & Qty--></div>
      <table class="prices">
        <!--tr>
          <th>Quantity</th>
          <td>2</td>
        </tr-->
        <tr>
          <th>Listing price</th>
          <td>{{ pricingInfo.baseInt }}{{ pricingInfo.separator }}<small>{{ pricingInfo.baseFraction }} </small> PART
          </td>
        </tr>
        <tr>
          <th>Shipping</th>
          <td >{{ pricingInfo.shippingInt }}{{ pricingInfo.separator }}<small>{{ pricingInfo.shippingFraction }}</small> PART
          </td>
        </tr>
        <tr>
          <th>Escrow</th>
          <td>{{ pricingInfo.escrowInt }}{{ pricingInfo.separator }}<small>{{ pricingInfo.escrowFraction }}</small> PART
          </td>
        </tr>
        <tr>
          <th>Total price</th>
          <td>
            {{ pricingInfo.totalInt }}{{ pricingInfo.separator }}<small>{{ pricingInfo.totalFraction }}</small> PART
          </td>
        </tr>
      </table>
    </div><!-- .info -->

  </div><!-- .detail -->

  <mat-action-row class="action-buttons" fxLayout fxLayoutAlign="space-between stretch">
    <div class="left">
      <button *ngFor="let actionable of secondaryActions"
              mat-button color="{{actionable.colour}}"
              [disabled]="actionable.disabled"
              (click)="executeAction(actionable.action)"
              class="small">
        <mat-icon fontSet="partIcon" fontIcon="{{actionable.icon}}"></mat-icon>
        {{ actionable.text }}
      </button>

    </div>
    <div class="right">
      <button *ngFor="let actionable of primaryActions"
              mat-raised-button color="{{actionable.colour}}" matTooltip="{{ actionable.tooltip }}"
              [disabled]="actionable.disabled"
              (click)="executeAction(actionable.action)">
        <mat-icon fontSet="partIcon" fontIcon="{{ actionable.icon }}"></mat-icon>
        {{ actionable.text }}
      </button>
    </div>
  </mat-action-row>
</mat-expansion-panel>
