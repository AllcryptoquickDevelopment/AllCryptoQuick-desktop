<div class="container-block">
  <app-page-intro [canHideContent]="true">
    <ng-container page-title>Change Wallet</ng-container>
    <ng-container page-content>
      Choose from an available wallet below or create a new wallet using the menu
    </ng-container>
    <ng-container page-help>
      You can create as many wallets as you need, for example to separate your funds.
    </ng-container>
  </app-page-intro>

  <ng-container *ngTemplateOutlet="hasError ? error : (wallets.length > 0 ? walletList : loading)"></ng-container>

</div>


<ng-template #walletList>
  <mat-card class="wallet-switcher">
    <mat-list class="wallet-list">
      <mat-list-item *ngFor="let wallet of wallets"
                     class="wallet-item" [ngClass]="{'active-wallet': wallet.isSelected}"
                     (click)="navigateToWallet(wallet)">
        <mat-icon matListIcon *ngIf="wallet.isSelected" fontSet="partIcon" fontIcon="part-circle-check"></mat-icon>
        <mat-icon matListIcon *ngIf="!wallet.isSelected" fontSet="partIcon" fontIcon="part-document"></mat-icon>
        <h3 matLine class="name">{{wallet.displayName}}</h3>
        <p matLine class="details">
          {{wallet.isSelected ? 'Active wallet' : 'Click to activate wallet'}}
          <!--{{wallet.isLoaded ? 'Loaded' : ''}}-->
        </p>
        <mat-divider></mat-divider>
      </mat-list-item>
    </mat-list>
  </mat-card>
</ng-template>


<ng-template #loading>
  <p>Fetching the current list of wallets...</p>
</ng-template>


<ng-template #error>
  <div class="no-results">
    <p>
      An error occurred while fetching the wallet information.
    </p>
    <p class="widget-help">
      Please refresh to try again
    </p>
    <button mat-button class="refresh-listings small" (click)="refreshWallets()">
      <mat-icon class="icon" fontSet="partIcon" fontIcon="part-refresh"></mat-icon>
      Refresh
    </button>
  </div>
</ng-template>
